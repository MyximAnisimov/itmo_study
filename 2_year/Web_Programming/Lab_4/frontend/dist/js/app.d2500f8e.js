(function(t){function e(e){for(var a,s,i=e[0],l=e[1],c=e[2],p=0,d=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,i=1;i<r.length;i++){var l=r[i];0!==o[l]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},o={app:0},n=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},1149:function(t,e,r){"use strict";r("88d2")},1708:function(t,e,r){},"1da8":function(t,e,r){"use strict";r("694d")},"23b7":function(t,e,r){},"337c":function(t,e,r){"use strict";r("b9b9")},"3c4a":function(t,e,r){"use strict";r("23b7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header",t._b({},"Header",t.headerParams,!1)),t.loading?r("Loader",{attrs:{id:"load"}}):r("div",{attrs:{id:"contentContainer"}},[r("router-view"),r("notifications",{attrs:{group:"error",position:"bottom right",max:"5"}}),r("notifications",{attrs:{group:"success",position:"bottom right",max:"5"}})],1)],1)},n=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header"},[r("div",[r("span",{staticClass:"lab-name"},[t._v(t._s(t.title))])]),r("div",[r("span",[r("a",{attrs:{target:"_blank",href:t.authorUrl1}},[t._v(t._s(t.authorName1))]),t._v(" , P3211 ")]),r("span",[r("a",{attrs:{target:"_blank",href:t.authorUrl2}},[t._v(t._s(t.authorName2))]),t._v(" , P3211 ")]),r("span",[t._v(" Вариант "),r("a",{attrs:{target:"_blank",href:t.varUrl}},[t._v("6112")])])])])},i=[],l={name:"Header",props:{title:String,authorName1:String,authorUrl1:String,authorName2:String,authorUrl2:String,varUrl:String}},c=l,u=(r("337c"),r("2877")),p=Object(u["a"])(c,s,i,!1,null,"301b4d0c",null),d=p.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lds-roller"},[r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div")])}],m={name:"Loader"},v=m,g=(r("7a3b"),Object(u["a"])(v,h,f,!1,null,"0b62bd46",null)),b=g.exports,y={name:"App",components:{Header:d,Loader:b},data:function(){return{headerParams:{title:"Лабораторная работа №4",authorName1:"Кривоносов Егор",authorUrl1:"https://vk.com/egor_redgry",authorName2:"Кондрашов Кирилл",authorUrl2:"https://vk.com/l514c44660",varUrl:"https://github.com/RedGry/ITMO/tree/master/Web%20development"},footerParams:{authorLogoPath1:"/assets/redgry.png",authorUrl1:"https://github.com/RedGry",authorLogoPath2:"/assets/leartaule.png",authorUrl2:"https://github.com/LeartAule"},loading:!0}},mounted:function(){var t=this;setTimeout((function(){t.loading=!1}),1e3)}},x=y,_=(r("034f"),Object(u["a"])(x,o,n,!1,null,null,null)),w=_.exports,k=r("8c4f"),C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"content"}},[r("h1",[t._v("Вход в систему")]),r("hr"),r("form",{attrs:{id:"form"},on:{sumbit:function(e){return e.preventDefault(),t.logIn(e)}}},[r("div",{attrs:{id:"login"}},[r("label",{attrs:{for:"loginInput"}},[t._v("Введите логин:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.login,expression:"login",modifiers:{trim:!0}}],attrs:{type:"text",id:"loginInput",required:"",placeholder:"Логин"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),r("div",{attrs:{id:"password"}},[r("label",{attrs:{for:"passwordInput"}},[t._v("Введите пароль:")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"password",id:"passwordInput",required:"",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),r("div",{attrs:{id:"buttons"}},[r("Button",{attrs:{color:"blue",label:"Войти в систему"},nativeOn:{click:function(e){return t.logIn(e)}}}),r("Button",{staticStyle:{color:"black"},attrs:{color:"white",label:"Зарегистрироваться"},nativeOn:{click:function(e){return t.register(e)}}})],1)])])},A=[],E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{class:t.color},[t._v(t._s(t.label))])},$=[],S={name:"Button",props:{label:String,color:String}},I=S,j=(r("1149"),Object(u["a"])(I,E,$,!1,null,"a7022872",null)),N=j.exports,O={name:"Registration",components:{Button:N},data:function(){return{login:"",password:""}},methods:{logIn:function(t){var e=this;t.preventDefault(),this.$router.push({name:"app-page"}),this.$axios.post("http://localhost:8080/api/user",{login:this.login,password:this.password}).then((function(t){localStorage.setItem("jwt",t.data),e.$router.push({name:"app-page"})})).catch((function(t){e.AxiosErrorHandler(t.response.data)}))},register:function(t){var e=this;t.preventDefault(),this.$axios.put("http://localhost:8080/api/user",{login:this.login,password:this.password}).then((function(){e.$notify({group:"success",title:"Регистрация",text:"Вы теперь можете войти",type:"success"})})).catch((function(t){e.AxiosErrorHandler(t.response.data)}))},AxiosErrorHandler:function(t){this.$notify({group:"error",title:"Error",text:t,type:"error"})}}},P=O,B=(r("9988"),Object(u["a"])(P,C,A,!1,null,"1c0f1bcc",null)),D=B.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"main"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"text-center"},[r("div",{staticClass:"graph"},[r("div",{staticClass:"svg-wrapper"},[r("svg",{attrs:{height:"300",width:"300",xmlns:"http://www.w3.org/2000/svg",id:"graph"},on:{click:t.validateFromGraph}},[r("line",{attrs:{stroke:"black",x1:"0",x2:"300",y1:"150",y2:"150"}}),r("line",{attrs:{stroke:"black",x1:"150",x2:"150",y1:"0",y2:"300"}}),r("polygon",{attrs:{fill:"black",points:"150,0 144,15 156,15",stroke:"black"}}),r("polygon",{attrs:{fill:"black",points:"300,150 285,156 285,144",stroke:"black"}}),r("line",{attrs:{stroke:"black",x1:"200",x2:"200",y1:"155",y2:"145"}}),r("line",{attrs:{stroke:"black",x1:"250",x2:"250",y1:"155",y2:"145"}}),r("line",{attrs:{stroke:"black",x1:"50",x2:"50",y1:"155",y2:"145"}}),r("line",{attrs:{stroke:"black",x1:"100",x2:"100",y1:"155",y2:"145"}}),r("line",{attrs:{stroke:"black",x1:"145",x2:"155",y1:"100",y2:"100"}}),r("line",{attrs:{stroke:"black",x1:"145",x2:"155",y1:"50",y2:"50"}}),r("line",{attrs:{stroke:"black",x1:"145",x2:"155",y1:"200",y2:"200"}}),r("line",{attrs:{stroke:"black",x1:"145",x2:"155",y1:"250",y2:"250"}}),r("text",{attrs:{fill:"black",x:"285",y:"140"}},[t._v("X")]),r("text",{attrs:{fill:"black",x:"160",y:"15"}},[t._v("Y")]),r("path",{attrs:{id:"circle",fill:"blue","fill-opacity":"0.2",stroke:"blue",d:"M 200 150 A 50 50, 90, 0, 0, 150 100 L 150 150 Z"}}),r("polygon",{attrs:{id:"rectangle",fill:"blue","fill-opacity":"0.2",stroke:"blue",points:"100,50 100,150 150,150 150,50"}}),r("polygon",{attrs:{id:"triangle",fill:"blue","fill-opacity":"0.2",stroke:"blue",points:"150,150 250,150 150,200"}})])])])]),r("div",{staticClass:"text-center"},[r("div",{staticClass:"inputs"},[r("p",[t._v("Выберите R:")]),r("div",{staticClass:"row"},[r("label",{staticClass:"text-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.r,expression:"r"}],staticClass:"text-input",attrs:{id:"input-r",type:"number",step:"0.1",name:"r",placeholder:"[-3; 5]",maxlength:"14"},domProps:{value:t.r},on:{input:function(e){e.target.composing||(t.r=e.target.value)}}})])]),r("p",[t._v("Выберите Х:")]),r("div",{staticClass:"row"},[r("label",{staticClass:"text-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.x,expression:"x"}],staticClass:"text-input",attrs:{id:"input-x",type:"text",name:"x",placeholder:"[-5; 3]",maxlength:"14"},domProps:{value:t.x},on:{input:function(e){e.target.composing||(t.x=e.target.value)}}})])]),r("p",[t._v("Выберите Y:")]),r("div",{staticClass:"row"},[r("label",{staticClass:"text-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.y,expression:"y"}],staticClass:"text-input",attrs:{id:"input-y",type:"text",name:"y",placeholder:"[-3; 5]",maxlength:"14"},domProps:{value:t.y},on:{input:function(e){e.target.composing||(t.y=e.target.value)}}})])])]),r("div",{staticClass:"special-button"},[r("button",{attrs:{id:"submit-button",type:"submit"},on:{click:t.validateForm}},[t._v("Отправить на проверку")]),r("button",{attrs:{id:"remove-button"},on:{click:t.deleteDots}},[t._v("Удалить все точки")])]),r("div",{staticClass:"special-button"},[r("Button",{attrs:{id:"logout",color:"blue",label:"Выйти из аккаунта"},nativeOn:{click:function(e){return t.logout(e)}}})],1)])])]),r("div",{staticClass:"container-table"},[r("div",{staticClass:"text-center"},[0===t.dots.length?r("p",{staticStyle:{"font-size":"20px"}},[t._v("Точек нет :(")]):r("table",{staticClass:"table-check"},[t._m(0),r("tbody",t._l(t.dots,(function(e){return r("tr",{key:e,staticClass:"table-row"},[r("td",[t._v(t._s(e.x))]),r("td",[t._v(t._s(e.y))]),r("td",[t._v(t._s(e.r))]),r("td",[t._v(t._s(e.time))]),r("td",[t._v(t._s(e.result?"✓":"✗"))])])})),0)])])])])},H=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",{staticClass:"thead"},[r("tr",{staticClass:"table-header"},[r("th",{attrs:{scope:"col"}},[t._v("X")]),r("th",{attrs:{scope:"col"}},[t._v("Y")]),r("th",{attrs:{scope:"col"}},[t._v("R")]),r("th",{attrs:{scope:"col"}},[t._v("Текущее время")]),r("th",{attrs:{scope:"col"}},[t._v("Результат попадания")])])])}],M=(r("99af"),r("4160"),r("b680"),r("498a"),r("159b"),{name:"Main",components:{Button:N},data:function(){return{x:"",y:"",r:"5",xGraph:"",yGraph:"",dots:new Array(0)}},watch:{x:function(t){this.validateInput(-5,3,"input-x",t)},y:function(t){this.validateInput(-3,5,"input-y",t)},r:function(t){if(this.validateInput(-3,5,"input-r",t)){var e=parseFloat(this.r),r=document.getElementById("circle"),a=document.getElementById("rectangle"),o=document.getElementById("triangle");r.setAttribute("d","M ".concat(150+10*e," 150 A ").concat(10*e," ").concat(10*e,", 90, 0, 0, 150 ").concat(150-10*e," L 150 150 Z")),a.setAttribute("points","".concat(150-10*e,",").concat(150-20*e," ").concat(150-10*e,",150 150,150 150,").concat(150-20*e)),o.setAttribute("points","150,150 ".concat(150+20*e,",150 150,").concat(150+10*e)),this.drawDots()}}},methods:{addDots:function(t,e){var r=this;this.$axios.put("http://localhost:8080/api/point",{x:t,y:e,r:this.r},{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(){r.loadDots(),r.$notify({group:"success",title:"Добавление точки",text:"Успешно",type:"success"})})).catch((function(){r.AxiosErrorHandler("Точку не удалось добавить")}))},deleteDots:function(){var t=this;this.$axios.delete("http://localhost:8080/api/point",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(){t.loadDots(),t.$notify({group:"success",title:"Удаление точек",text:"Успешно",type:"success"})})).catch((function(){t.AxiosErrorHandler("Точки не удалось удалить")}))},logout:function(){this.$notify({group:"success",title:"Выход из аккаунта",text:"Успешно",type:"success"}),this.$router.push({name:"auth-page"},(function(){return localStorage.clear()}))},loadDots:function(){var t=this;this.$axios.get("http://localhost:8080/api/point",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){t.dots=e.data,t.drawDots()})).catch((function(){t.AxiosErrorHandler("Точки не удалось загрузить")}))},drawDots:function(){var t=parseFloat(this.r),e=document.getElementById("graph"),r=document.querySelectorAll("circle");r.forEach((function(t){return t.parentNode.removeChild(t)})),0!==this.dots.length&&this.dots.forEach((function(r){var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("id","target-dot"),a.setAttribute("r","3.5"),t>=0?(a.setAttribute("cx","".concat(r.x/5*100+150)),a.setAttribute("cy","".concat(150-r.y/5*100))):(a.setAttribute("cx","".concat(-1.8*r.x/5*100+150)),a.setAttribute("cy","".concat(150- -1.8*r.y/5*100))),r.r===t?(a.setAttribute("fill",!0===r.result?"green":"red"),a.setAttribute("r","4.5")):(a.setAttribute("fill","black"),a.setAttribute("opacity","".concat(t-.5<r.r&&t+.5>r.r?"0.5":"0.1"))),e.appendChild(a)}))},validateForm:function(){this.x>=-5&&this.x<=3&&this.y>=-3&&this.y<=5&&this.r>=-3&&this.r<=5&&!isNaN(this.x)&&!isNaN(this.y)&&!isNaN(this.r)&&""!==this.x.trim()&&""!==this.y.trim()&&""!==this.r.trim()?this.addDots(this.x,this.y):this.AxiosErrorHandler("Проверте введенные данные")},validateFromGraph:function(){var t=e(document.getElementById("graph"),event);function e(t,e){var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}}this.xGraph=((t.x-150)/100*this.r).toFixed(2),this.yGraph=((150-t.y)/100*this.r).toFixed(2),this.r>=-3&&this.r<=5?this.addDots(this.xGraph,this.yGraph):this.AxiosErrorHandler("Проверте значение R")},validateInput:function(t,e,r,a){var o=document.getElementById(r),n=document.getElementById("submit-button");return parseFloat(a)<t||parseFloat(a)>e||isNaN(a)?(o.classList.add("red"),o.setAttribute("style","color: red"),n.setAttribute("disabled","true"),console.log(n),!1):(o.classList.remove("red"),o.removeAttribute("style"),n.removeAttribute("disabled"),!0)},AxiosErrorHandler:function(t){this.$notify({group:"error",title:"Error",text:t,type:"error"})}},mounted:function(){this.loadDots(),this.drawDots()}}),F=M,G=(r("3c4a"),Object(u["a"])(F,U,H,!1,null,"86793654",null)),L=G.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"content"}},[r("h1",[t._v(t._s(t.errorCode))]),r("h2",[t._v(t._s(t.errorMessage))]),r("hr"),r("router-link",{attrs:{to:"/auth",id:"button"}},[t._v("Вернуться на главную страницу")])],1)},T=[],z={name:"NotFoundError",props:{errorCode:String,errorMessage:String}},Y=z,q=(r("1da8"),Object(u["a"])(Y,R,T,!1,null,"8b11d5d2",null)),X=q.exports;a["default"].use(k["a"]);var J=new k["a"]({mode:"history",routes:[{path:"/",name:"default-page",component:D,beforeEnter:function(t,e,r){null!==localStorage.getItem("jwt")?r({name:"app-page"}):r({name:"auth-page"})}},{path:"/auth",name:"auth-page",component:D},{path:"/app",name:"app-page",component:L,beforeEnter:function(t,e,r){localStorage.getItem("jwt")?r():r({name:"error-page-app"})}},{path:"/*",name:"error-page",component:X,props:{default:!0,errorCode:"404",errorMessage:"Данной страницы не сущуствует :("}},{path:"/error",name:"error-page-app",component:X,props:{default:!0,errorCode:"401",errorMessage:"У вас нет доступа к приложению. Сначала авторизуйтесь!"}}]}),Z=r("ee98"),W=r.n(Z),K=r("bc3a"),Q=r.n(K);a["default"].config.productionTip=!1,a["default"].use(W.a),a["default"].prototype.$axios=Q.a.create({baseUrl:"/api"}),new a["default"]({router:J,render:function(t){return t(w)}}).$mount("#app")},"694d":function(t,e,r){},"7a3b":function(t,e,r){"use strict";r("1708")},"85ec":function(t,e,r){},"88d2":function(t,e,r){},9988:function(t,e,r){"use strict";r("a025")},a025:function(t,e,r){},b9b9:function(t,e,r){}});
//# sourceMappingURL=app.d2500f8e.js.map